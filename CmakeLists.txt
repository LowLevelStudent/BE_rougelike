cmake_minimum_required(VERSION 3.10)
project(BE_rougelike)

set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)

find_package(OpenGL REQUIRED)

add_subdirectory(external/glad)
add_subdirectory(external/flecs)

include_directories(${OPENGL_INCLUDE_DIR}
                    external/glad/include
                    external/cglm/include
                    external/stb/include
                    external/pico_headers/include
                    external/glText/include
                    external/flecs/include)

set(SOURCES src/app.c
            src/game/game.c
            src/window/win32_helper.c
            src/window/opengl_helper.c
            src/shader/shader.c 
            src/texture/texture.c 
            src/utility/rand.c 
            src/utility/error.c
            src/utility/ut_math.c
            src/rendering/rendering_sprites.c 
            src/resource_manager/resource_manager.c
            src/ecs/components.c
            src/ecs/systems.c
            src/ecs/factories.c
            )


add_executable(game WIN32 ${SOURCES})
set_property(TARGET game PROPERTY C_STANDARD 99)

target_link_libraries(game ${OPENGL_gl_LIBRARY} glad flecs Ws2_32)
